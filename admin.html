<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<title>Admin - Diaporama Réponses</title>
<style>
/* Styles généraux */
html, body { height: 100%; margin: 0; background: #000; color: #fff; }

/* Conteneur principal du diaporama */
#diapo-content-wrapper {
    /* La taille est basée sur la hauteur de la fenêtre moins la navbar (56px) et la barre de progression (10px) */
    height: calc(100vh - 56px - 10px); 
    display: flex;
    justify-content: center; 
    align-items: center;
    padding: 20px; /* Padding global pour les marges */
    width: 100%;
}
#diapo-content {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%; 
    height: 100%;
    transition: opacity 0.5s ease-in-out; 
}

/* Style par défaut des slides (pour les textes/réponses) */
.slide-item { 
    max-height: 100%; 
    overflow-y: auto;
    width: 90%; /* Largeur limitée pour le texte */
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 0; 
}

h2 { font-size: 2.5rem; margin-bottom: 1rem; }
p { font-size: 1.8rem; margin-bottom: 1rem; }
.separator { font-size: 3rem; font-weight: bold; }


/* --- STYLES DÉDIÉS AUX IMAGES PLEIN ÉCRAN (Correction de compatibilité) --- */

/* Style appliqué uniquement aux conteneurs de slides d'images */
.is-image-slide {
    width: 100%; /* Prend toute la largeur disponible */
    height: 100%; /* Prend toute la hauteur disponible */
    max-width: 100%;
    max-height: 100%;
    padding: 0; /* Élimine le padding */
    justify-content: center; 
}

/* La classe applied à l'image elle-même */
.full-screen-image {
    width: 100%; 
    height: 100%; 
    object-fit: contain; /* L'image remplit l'espace sans être coupée, gardant le ratio */
}

/* Styles des boutons de navigation latérale */
.nav-button {
    font-size: 2rem;
    padding: 1rem 1.5rem;
    height: 100%; 
    background: none;
    border: none;
    color: #fff;
    opacity: 0.5;
    transition: opacity 0.3s;
    position: absolute; 
    top: 0;
    z-index: 10;
}
.nav-button:hover {
    opacity: 1;
}
#nav-prev { left: 0; }
#nav-next { right: 0; }

/* Styles de la barre de progression */
#progress-bar-container {
    width: 100%;
    height: 10px; 
    background-color: #333; 
    position: fixed; 
    bottom: 0;
    left: 0;
    z-index: 20;
}

#progress-bar {
    height: 100%;
    width: 0%; 
    background-color: #17a2b8; 
    transition: width 0.5s ease-in-out; 
}
</style>
</head>
<body>

<nav class="navbar navbar-dark bg-primary px-3">
    <span class="navbar-brand">Espace Admin</span>
    <button class="btn btn-light ms-2" onclick="toggleFullscreen()">Plein écran</button>
</nav>

<div id="diapo-content-wrapper">
    
    <button id="nav-prev" class="nav-button" onclick="handleManualNavigation(-1)">
        &lsaquo;
    </button>
    
    <div id="diapo-content">
        <h1>Chargement des données...</h1>
    </div>
    
    <button id="nav-next" class="nav-button" onclick="handleManualNavigation(1)">
        &rsaquo;
    </button>
    
</div>

<div id="progress-bar-container">
    <div id="progress-bar"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
<script src="logic.js" defer></script>
</body>
</html>
